# api-wiki-springboot

API Wiki Project for SpringBoot.

# 数据库设计

![E-R 图](/doc/images/database.png)

## 用户表 user

|   名称   |     类型     | 主键 | 外键 | 非空 | 默认值 |   索引   |               注释                |
| :------: | :----------: | :--: | :--: | :--: | :----: | :------: | :-------------------------------: |
|    id    |   int(11)    |  √   |      |  √   |        | 主键索引 |             用户编号              |
|   name   | varchar(255) |      |      |  √   |        |          |              用户名               |
| password | varchar(255) |      |      |  √   |        |          |               密码                |
|  email   | varchar(255) |      |      |  √   |        | 唯一索引 |               邮箱                |
|   type   |  tinyint(4)  |      |      |      |   1    |          | 用户类型：0-系统管理员 1-普通用户 |
|   salt   |   char(11)   |      |      |  √   |        |          |             随机加盐              |
|   uuid   |   char(36)   |      |      |  √   |        |          |             预留字段              |

## 项目表 project

|    名称     |     类型     | 主键 | 外键 | 非空 | 默认值 |   索引   |   注释   |
| :---------: | :----------: | :--: | :--: | :--: | :----: | :------: | :------: |
|     id      |   int(11)    |  √   |      |  √   |        | 主键索引 | 项目编号 |
|    name     | varchar(255) |      |      |  √   |        | 唯一索引 | 项目名称 |
| description | varchar(255) |      |      |      | 空描述 |          | 项目描述 |
|    uuid     |   char(36)   |      |      |  √   |        |          | 生成项目访问地址 |

## 用户项目关系表 user_project

|    名称    |  类型   | 主键 | 外键 | 非空 | 默认值 |   索引   |   注释   |
| :--------: | :-----: | :--: | :--: | :--: | :----: | :------: | :------: |
|     id     | int(11) |  √   |      |  √   |        | 主键索引 | 自增主键 |
|  user_id   | int(11) |      |  √   |  √   |        |          | 用户编号 |
| project_id | int(11) |      |  √   |  √   |        |          | 项目编号 |

## 文章表 article

|    名称    |     类型     | 主键 | 外键 | 非空 | 默认值 |   索引   |       注释       |
| :--------: | :----------: | :--: | :--: | :--: | :----: | :------: | :--------------: |
|     id     |   int(11)    |  √   |      |  √   |        | 主键索引 |     文章编号     |
|  user_id   |   int(11)    |      |  √   |  √   |        |          |     用户编号     |
| project_id |   int(11)    |      |  √   |  √   |        |          |     项目编号     |
|   title    | varchar(255) |      |      |  √   |        |          |       标题       |
|  content   |     text     |      |      |      |        |          |       正文       |
|    uuid    |   char(36)   |      |      |  √   |        |          | 生成文章访问地址 |

## 模块表 module

|    名称     |     类型     | 主键 | 外键 | 非空 | 默认值 |   索引   |       注释       |
| :---------: | :----------: | :--: | :--: | :--: | :----: | :------: | :--------------: |
|     id      |   int(11)    |  √   |      |  √   |        | 主键索引 |     模块编号     |
| project_id  |   int(11)    |      |  √   |  √   |        |          |     项目编号     |
|    name     | varchar(255) |      |      |  √   |        |          |     模块名称     |
| description | varchar(255) |      |      |      | 空描述 |          |     模块描述     |
|    uuid     |   char(36)   |      |      |  √   |        |          | 预留字段 |

## 接口表 interfaces

|    名称     |     类型     | 主键 | 外键 | 非空 | 默认值 |   索引   |   注释   |
| :---------: | :----------: | :--: | :--: | :--: | :----: | :------: | :------: |
|     id      |   int(11)    |  √   |      |  √   |        | 主键索引 | 接口编号 |
|  module_id  |   int(11)    |      |  √   |  √   |        |          | 模块编号 |
|    name     | varchar(255) |      |      |  √   |        |          | 接口名称 |
| description | varchar(255) |      |      |      | 空描述 |          | 接口描述 |
|     url     | varchar(255) |      |      |  √   |        |          | 访问地址 |
|   method    |  tinyint(4)  |      |      |      |   0    |          | 请求类型 |
|    uuid     |   char(36)   |      |      |  √   |        |          | 预留字段 |

## 参数表 parameter

|     名称      |     类型     | 主键 | 外键 | 非空 | 默认值 |   索引   |          注释           |
| :-----------: | :----------: | :--: | :--: | :--: | :----: | :------: | :---------------------: |
|      id       |   int(11)    |  √   |      |  √   |        | 主键索引 |        参数编号         |
| interfaces_id |   int(11)    |      |  √   |  √   |        |          |        接口编号         |
|   parent_id   |   int(11)    |      |      |      |        |          |       父参数编号        |
|     name      | varchar(255) |      |      |  √   |        |          |        参数名称         |
|  description  | varchar(255) |      |      |      | 空描述 |          |        参数描述         |
|     type      |  tinyint(4)  |      |      |      |   0    |          | 参数类型：0-请求 1-响应 |
|   datatype    |  tinyint(4)  |      |      |      |   0    |          |        数据类型         |
|   necessary   |  tinyint(1)  |      |      |      |   1    |          |      0-可选 1-必选      |
|     rule      | varchar(255) |      |      |      |        |          |        生成规则         |
